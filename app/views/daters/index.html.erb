<div class="dashboard-header">
  <h2>The Pool!</h2>


    <div class="card-deck item-center">
      <% @daters.each do |dater| %>

            <div class="card text-center">

                <div class="card-body item-center">
                  <h5 class="card-title"><%= dater.f_name %></h5>
                  <div class="item-center" ><%= image_tag dater.user.image.url, class:'', size:"150x150" %></div>
                </div>
                <div class="card-group">
                  <div class="card">
                    <div class="card-body">
                      <p class="card-text text-left">Age: <%= dater.f_name %></p>
                      <p class="card-text text-left">Location: <%= dater.trait.zip %></p>
                     <p class="card-text text-left">Gender: <%= dater.trait.gender %></p>
                     <p class="card-text text-left">Orientation: <%= dater.trait.orientation %></p>
                      <a href="<%= dater_path(dater) %>" class="primary-btn btn-sm login-button">View</a><a href="" class="primary-btn btn-sm login-button add-me-button" id="match=<%= dater.id %>&dater=<%= current_dater.id%>">Add Me</a>

                    </div>
                  </div>
                </div>

          </div>
          <br>

      <% end %>
    </div>


</div>


<script>
$(".add-me-button").click(function(event) {
  event.preventDefault()
  matchParams = event.currentTarget.id
  fetch(`https://pytdating-live.herokuapp.com/api/v1/pool?${matchParams}`)
  .then((response) => console.log(response))
})

</script>
